.PHONY: all app run_tests clean

# Цель по умолчанию: собрать основное приложение
all: app

# Цель для сборки основного приложения
app:
	g++ -std=c++20 -Wall -Wextra -o student_app main.cpp database.cpp

# Цель для сборки И ЗАПУСКА тестов (переименованная)
run_tests:
	g++ -std=c++20 -Wall -Wextra --coverage -o test_runner test.cpp database.cpp -lgtest -lgtest_main -pthread
	./test_runner

# Цель для очистки
clean:
	rm -f student_app test_runner *.gcno *.gcda

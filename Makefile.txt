# Отключение встроенных правил
MAKEFLAGS += --no-builtin-rules
.SUFFIXES:

.PHONY: all app run-tests clean

all: app

app:
	g++ -std=c++20 -Wall -Wextra -o student_app main.cpp database.cpp

run-tests:
	g++ -std=c++20 -Wall -Wextra --coverage -o test_runner test.cpp database.cpp -lgtest -lgtest_main -pthread
	./test_runner

clean:
	rm -f student_app test_runner *.gcno *.gcda

# Блокировка встроенного правила test
test:
	@echo "Используйте 'make run-tests'"
	@false
